#include <TFT.h>

#define PADDING 6
#define POS1 0
#define POS2 38
#define POS3 76
#define IMGWIDTH 38
#define IMGHEIGHT 32
#define TEXTMARGINLEFT 50
#define TEXTMARGINTOP 18


// TFT Screen is 160 x 128

#define cs   10
#define dc   9
#define rst  8
#define displayLight 3

bool draw = false;

TFT TFTscreen = TFT(cs, dc, rst);

const unsigned char fuelImage [] PROGMEM = {
  0x0f, 0xff, 0xfc, 0x00, 0x00,
  0x3f, 0xff, 0xfe, 0x0c, 0x00,
  0x38, 0x00, 0x0e, 0x1f, 0x00,
  0x30, 0x00, 0x06, 0x07, 0x80,
  0x30, 0x00, 0x06, 0x03, 0xe0,
  0x30, 0x00, 0x06, 0x00, 0xf0,
  0x30, 0x00, 0x06, 0x00, 0xf8,
  0x30, 0x00, 0x06, 0x00, 0x70,
  0x30, 0x00, 0x06, 0x00, 0x70,
  0x30, 0x00, 0x06, 0x00, 0x70,
  0x38, 0x00, 0x0e, 0x00, 0x60,
  0x3f, 0xff, 0xff, 0x00, 0x60,
  0x3f, 0xff, 0xff, 0xc0, 0x60,
  0x3f, 0xff, 0xff, 0xf0, 0x60,
  0x3f, 0xff, 0xfe, 0x70, 0x60,
  0x3f, 0xff, 0xfe, 0x30, 0x70,
  0x3f, 0xff, 0xfe, 0x30, 0x70,
  0x3f, 0xff, 0xfe, 0x30, 0x30,
  0x3f, 0xff, 0xfe, 0x30, 0x30,
  0x3f, 0xff, 0xfe, 0x30, 0x38,
  0x3f, 0xff, 0xfe, 0x30, 0x18,
  0x3f, 0xff, 0xfe, 0x30, 0x18,
  0x3f, 0xff, 0xfe, 0x30, 0x1c,
  0x3f, 0xff, 0xfe, 0x30, 0x1c,
  0x3f, 0xff, 0xfe, 0x38, 0x1c,
  0x3f, 0xff, 0xfe, 0x38, 0x18,
  0x3f, 0xff, 0xfe, 0x1f, 0xf8,
  0x3f, 0xff, 0xfe, 0x07, 0xe0,
  0x3f, 0xff, 0xfe, 0x00, 0x00,
  0xff, 0xff, 0xff, 0x80, 0x00,
  0xff, 0xff, 0xff, 0x80, 0x00,
  0x7f, 0xff, 0xff, 0x80, 0x00
};

const unsigned char batteryImage [] PROGMEM = {
  0x03, 0xc0, 0x00, 0x0f, 0x00,
  0x03, 0xc0, 0x00, 0x0f, 0x00,
  0x03, 0xc0, 0x00, 0x0f, 0x00,
  0xff, 0xff, 0xff, 0xff, 0xfc,
  0xff, 0xff, 0xff, 0xff, 0xfc,
  0xc0, 0x00, 0x00, 0x00, 0x0c,
  0xc0, 0x00, 0x00, 0x00, 0x0c,
  0xc0, 0x00, 0x00, 0x00, 0x0c,
  0xc0, 0x00, 0x00, 0x00, 0x0c,
  0xc0, 0x00, 0x00, 0x0c, 0x0c,
  0xc0, 0x00, 0x00, 0x0c, 0x0c,
  0xc0, 0x00, 0x00, 0x0c, 0x0c,
  0xc7, 0xf8, 0x00, 0x7f, 0x8c,
  0xc7, 0xf8, 0x00, 0x7f, 0x8c,
  0xc7, 0xf8, 0x00, 0x7f, 0x8c,
  0xc0, 0x00, 0x00, 0x0c, 0x0c,
  0xc0, 0x00, 0x00, 0x0c, 0x0c,
  0xc0, 0x00, 0x00, 0x0c, 0x0c,
  0xc0, 0x00, 0x00, 0x00, 0x0c,
  0xc0, 0x00, 0x00, 0x00, 0x0c,
  0xc0, 0x00, 0x00, 0x00, 0x0c,
  0xc0, 0x00, 0x00, 0x00, 0x0c,
  0xc0, 0x00, 0x00, 0x00, 0x0c,
  0xc0, 0x00, 0x00, 0x00, 0x0c,
  0xc0, 0x00, 0x00, 0x00, 0x0c,
  0xc0, 0x00, 0x00, 0x00, 0x0c,
  0xc0, 0x00, 0x00, 0x00, 0x0c,
  0xc0, 0x00, 0x00, 0x00, 0x0c,
  0xc0, 0x00, 0x00, 0x00, 0x0c,
  0xc0, 0x00, 0x00, 0x00, 0x0c,
  0xff, 0xff, 0xff, 0xff, 0xfc,
  0xff, 0xff, 0xff, 0xff, 0xfc
};

const unsigned char oilTempImage [] PROGMEM = {
  0x00, 0x00, 0x30, 0x00, 0x00,
  0x00, 0x00, 0x78, 0x00, 0x00,
  0x00, 0x00, 0x7c, 0x00, 0x00,
  0x00, 0x00, 0x7c, 0x00, 0x00,
  0x00, 0x00, 0x7f, 0x80, 0x00,
  0x00, 0x00, 0x7f, 0x80, 0x00,
  0x00, 0x00, 0x7c, 0x00, 0x00,
  0x00, 0x00, 0x7c, 0x00, 0x00,
  0x00, 0x00, 0x7c, 0x00, 0x00,
  0x00, 0x00, 0x7f, 0x80, 0x00,
  0x00, 0x00, 0x7f, 0x80, 0x00,
  0x00, 0x00, 0x7c, 0x00, 0x00,
  0x00, 0x00, 0x7c, 0x00, 0x00,
  0x00, 0x00, 0x7c, 0x00, 0x00,
  0x00, 0x00, 0x7f, 0x80, 0x00,
  0x00, 0x00, 0x7f, 0x80, 0x00,
  0x00, 0x00, 0x7c, 0x00, 0x00,
  0x00, 0x00, 0x7c, 0x00, 0x00,
  0x00, 0x00, 0x7c, 0x00, 0x00,
  0x00, 0x00, 0x7c, 0x00, 0x00,
  0x00, 0x00, 0xfc, 0x00, 0x00,
  0xe0, 0x3d, 0xfe, 0xf0, 0x1c,
  0xf8, 0x7d, 0xfe, 0x78, 0x7c,
  0x3f, 0xf1, 0xfe, 0x3f, 0xf0,
  0x1f, 0xc1, 0xfe, 0x0f, 0xe0,
  0x07, 0x01, 0xfe, 0x07, 0x80,
  0x00, 0x00, 0xfc, 0x00, 0x00,
  0xe0, 0x1e, 0x01, 0xe0, 0x1c,
  0xf8, 0x7f, 0x87, 0xf8, 0x7c,
  0x7f, 0xf3, 0xff, 0x3f, 0xf8,
  0x1f, 0xe1, 0xfe, 0x1f, 0xe0,
  0x07, 0x80, 0x78, 0x07, 0x80
};

void setup() {
  TFTscreen.begin();
  TFTscreen.background(0, 0, 0);
  TFTscreen.setTextSize(2);
  pinMode(displayLight, OUTPUT);
  digitalWrite(displayLight, HIGH);

  TFTscreen.stroke(255, 255, 255);
  drawImage(ST7735_BLUE);


}

void loop() {
    TFTscreen.text("13.3V", TEXTMARGINLEFT, POS1 + TEXTMARGINTOP);
//    TFTscreen.text("86%", TEXTMARGINLEFT, POS2 + TEXTMARGINTOP);
//    TFTscreen.text("106C", TEXTMARGINLEFT, POS3 + TEXTMARGINTOP);
    delay(2000);
    TFTscreen.stroke(0, 0, 0);
    TFTscreen.text("13.3V", TEXTMARGINLEFT, POS1 + TEXTMARGINTOP);
//    TFTscreen.text("86%", TEXTMARGINLEFT, POS2 + TEXTMARGINTOP);
//    TFTscreen.text("106C", TEXTMARGINLEFT, POS3 + TEXTMARGINTOP);
    TFTscreen.stroke(255, 255, 255);

}

void drawImage(int16_t color) {
  //  TFTscreen.drawBitmap(6, 6, fuelImage, 38, 32, color);
  //  TFTscreen.drawBitmap(6, 44, batteryImage, 38, 32, color);
  //  TFTscreen.drawBitmap(6, 82, oilTempImage, 38, 32, color);


  TFTscreen.drawBitmap(PADDING, PADDING + POS1, fuelImage, IMGWIDTH, IMGHEIGHT, color);
  TFTscreen.drawBitmap(PADDING, PADDING + POS2, batteryImage, IMGWIDTH, IMGHEIGHT, color);
  TFTscreen.drawBitmap(PADDING, PADDING + POS3, oilTempImage, IMGWIDTH, IMGHEIGHT, color);
}
